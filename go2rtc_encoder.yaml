# go2rtc Configuration - Hardware Encoding Version
#
# This file uses hardware-accelerated encoding (Apple VideoToolbox)
# for lower latency transcoding (~30ms vs ~150ms software)
#
# Generated: 2025-12-06T02:16:55.995Z
# Sites configured: 2
# Encoder: Apple VideoToolbox (h264_videotoolbox)
# Expected transcoding latency: ~30ms
#
# To use this config instead of the default:
#   ./go2rtc -config go2rtc_encoder.yaml
#

streams:
  site1_main:
    - rtsp://secretlab:tapo123@10.1.10.193:554/stream1
  site1_dewarped:
    - ffmpeg:site1_main#video=h264#raw=-fflags nobuffer+genpts -flags low_delay -probesize 32 -analyzeduration 0 -vf scale=1920:1080 -c:v h264_videotoolbox -realtime true -prio_speed true -allow_sw 0
  site2_main:
    - rtsp://secretlab:tapo123@10.1.10.149:554/stream1
  site2_dewarped:
    - ffmpeg:site2_main#video=h264#raw=-fflags nobuffer+genpts -flags low_delay -probesize 32 -analyzeduration 0 -vf scale=1920:1080 -c:v h264_videotoolbox -realtime true -prio_speed true -allow_sw 0
webrtc:
  listen: ':8555'
  ice_servers:
    - urls:
        - stun:stun.l.google.com:19302
api:
  listen: ':1984'
log:
  level: info

